<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Clive Net SC-900 Practice Quiz</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f4f6f8; color: #222; }
  header { background: #003366; color: white; padding: 1em; text-align: center; }
  main { max-width: 600px; margin: 1em auto; background: white; padding: 1.5em; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);}
  h1 { margin-top: 0; }
  button { background: #003366; color: white; border: none; padding: 0.7em 1.5em; border-radius: 5px; font-size: 1em; cursor: pointer; }
  button:disabled { background: #999; cursor: default; }
  .question-count { margin-bottom: 1em; }
  .scoreboard { margin: 1em 0; font-weight: bold; }
  .answers { list-style: none; padding: 0; }
  .answers li { margin: 0.6em 0; }
  .answers button { width: 100%; text-align: left; background: #eee; color: #222; }
  .answers button.selected { background: #004080; color: white; }
  .explanation { background: #e7f3fe; border-left: 5px solid #2196F3; padding: 0.5em 1em; margin-top: 1em; }
  .footer { text-align: center; margin: 2em 0 1em 0; font-size: 0.9em; color: #555; }
  select { padding: 0.3em; font-size: 1em; margin-bottom: 1em; }
  .start-section { text-align: center; }
</style>
</head>
<body>

<header>
  <h1>Clive Net SC-900 Practice Quiz</h1>
</header>

<main>
  <section id="start-section" class="start-section">
    <label for="numQuestions">Choose number of questions:</label><br />
    <select id="numQuestions">
      <option value="10">10</option>
      <option value="15" selected>15</option>
      <option value="20">20</option>
      <option value="50">50</option>
      <option value="100">100</option>
      <option value="200">200</option>
    </select><br />
    <button id="startBtn">Start Quiz</button>
    <div style="margin-top:1em;">
      <strong>Your Overall Score:</strong><br />
      <span id="accScore">0</span> / <span id="accTotal">0</span> correct (<span id="accPercent">0</span>%)
    </div>
  </section>

  <section id="quiz-section" style="display:none;">
    <div class="question-count" id="questionCount"></div>
    <div id="questionText" style="font-weight:bold; margin-bottom: 1em;"></div>
    <ul class="answers" id="answersList"></ul>
    <button id="nextBtn" disabled>Next Question</button>
    <div class="explanation" id="explanation" style="display:none;"></div>
    <div class="scoreboard" id="scoreboard"></div>
  </section>
</main>

<div class="footer">
  Made by Clive's AI Trainer — for your SC-900 success!
</div>

<script>
(() => {
  // Questions array
  const questions = [
    {
      question: "Clive Industries wants to enforce Multi-Factor Authentication (MFA) for all users. Which Microsoft solution can help implement this easily?",
      answers: [
        { text: "Microsoft Defender for Endpoint", correct: false },
        { text: "Azure Active Directory Conditional Access", correct: true },
        { text: "Microsoft Intune", correct: false },
        { text: "Microsoft Purview", correct: false }
      ],
      explanation: "Azure AD Conditional Access allows enforcing MFA policies based on user, location, device, and risk."
    },
    {
      question: "Which Microsoft compliance tool helps Clive Net identify and classify sensitive information in their environment?",
      answers: [
        { text: "Microsoft Defender", correct: false },
        { text: "Microsoft Purview Data Loss Prevention (DLP)", correct: true },
        { text: "Microsoft Sentinel", correct: false },
        { text: "Azure Security Center", correct: false }
      ],
      explanation: "Microsoft Purview DLP helps classify, monitor, and protect sensitive info across services."
    },
    {
      question: "Azure AD Identity Protection can automatically detect risky user sign-ins and respond to threats.",
      answers: [
        { text: "True", correct: true },
        { text: "False", correct: false }
      ],
      explanation: "Azure AD Identity Protection uses signals to identify suspicious sign-ins and can enforce automated responses."
    },
    {
      question: "Clive Net wants to control who can access their Azure resources by assigning permissions based on job roles. Which feature should they use?",
      answers: [
        { text: "Azure Policies", correct: false },
        { text: "Azure Role-Based Access Control (RBAC)", correct: true },
        { text: "Azure Firewall", correct: false },
        { text: "Azure Monitor", correct: false }
      ],
      explanation: "RBAC allows granular permissions to be assigned based on roles."
    },
    {
      question: "Which Microsoft solution integrates with Clive Industries' existing Microsoft 365 environment to help monitor security events?",
      answers: [
        { text: "Microsoft Defender for Identity", correct: false },
        { text: "Microsoft Sentinel", correct: true },
        { text: "Microsoft Cloud App Security", correct: false },
        { text: "Microsoft Endpoint Manager", correct: false }
      ],
      explanation: "Microsoft Sentinel is a cloud-native SIEM that ingests data from many sources including Microsoft 365."
    },
    {
      question: "Microsoft Secure Score provides personalized recommendations to improve your organization's security posture.",
      answers: [
        { text: "True", correct: true },
        { text: "False", correct: false }
      ],
      explanation: "Secure Score analyzes your tenant's security configuration and suggests improvements."
    },
    {
      question: "Clive Net wants to protect sensitive email data from accidental sharing outside the company. Which feature should they configure?",
      answers: [
        { text: "Azure Information Protection (AIP)", correct: true },
        { text: "Microsoft Teams Guest Access", correct: false },
        { text: "Microsoft Defender Antivirus", correct: false },
        { text: "Azure AD B2B Collaboration", correct: false }
      ],
      explanation: "AIP enables labeling and encryption to protect emails and documents."
    },
    {
      question: "Which Microsoft product provides a comprehensive view of compliance risks and regulatory requirements for Clive Industries?",
      answers: [
        { text: "Microsoft Defender for Endpoint", correct: false },
        { text: "Microsoft Purview Compliance Manager", correct: true },
        { text: "Azure Sentinel", correct: false },
        { text: "Microsoft Intune", correct: false }
      ],
      explanation: "Compliance Manager helps assess and manage regulatory compliance."
    },
    {
      question: "Conditional Access policies can include device compliance as a condition to allow access.",
      answers: [
        { text: "True", correct: true },
        { text: "False", correct: false }
      ],
      explanation: "Device compliance from Intune can be a condition in Conditional Access policies."
    },
    {
      question: "Clive Net is concerned about data residency and wants to ensure their data stays within Australia. Which Microsoft feature helps them comply with this?",
      answers: [
        { text: "Data Loss Prevention (DLP)", correct: false },
        { text: "Azure Regions and Data Residency Options", correct: true },
        { text: "Microsoft Defender for Cloud", correct: false },
        { text: "Azure Sentinel", correct: false }
      ],
      explanation: "Azure allows selecting regions to keep data within certain geographic boundaries."
    },
    {
      question: "Which identity model does Azure Active Directory follow?",
      answers: [
        { text: "Centralized Identity Model", correct: false },
        { text: "Password-less Identity Model", correct: false },
        { text: "Claims-based Identity Model", correct: true },
        { text: "Federated Identity Model", correct: false }
      ],
      explanation: "Azure AD is based on claims-based identity allowing tokens to carry user info."
    },
    {
      question: "Clive Industries wants to implement passwordless sign-in for their employees. Which method does Microsoft recommend?",
      answers: [
        { text: "SMS verification", correct: false },
        { text: "Microsoft Authenticator app with phone sign-in", correct: true },
        { text: "Email OTP", correct: false },
        { text: "Security questions", correct: false }
      ],
      explanation: "Microsoft Authenticator app supports secure passwordless phone sign-in."
    },
    {
      question: "Microsoft Defender for Endpoint is primarily used for endpoint detection and response (EDR).",
      answers: [
        { text: "True", correct: true },
        { text: "False", correct: false }
      ],
      explanation: "Defender for Endpoint provides advanced threat detection on devices."
    },
    {
      question: "Which Microsoft tool helps Clive Net manage compliance with GDPR and other regulations?",
      answers: [
        { text: "Microsoft Purview Data Lifecycle Management", correct: true },
        { text: "Microsoft Sentinel", correct: false },
        { text: "Azure Firewall", correct: false },
        { text: "Azure AD Connect", correct: false }
      ],
      explanation: "Data Lifecycle Management helps automate retention and deletion policies."
    },
    {
      question: "What is the main purpose of Microsoft Cloud App Security (MCAS)?",
      answers: [
        { text: "To protect endpoint devices", correct: false },
        { text: "To provide visibility and control over cloud apps", correct: true },
        { text: "To manage user identities", correct: false },
        { text: "To enforce network firewall policies", correct: false }
      ],
      explanation: "MCAS provides discovery and control over cloud app usage and risks."
    },
    {
      question: "Microsoft Information Protection (MIP) uses labels to classify and protect documents and emails.",
      answers: [
        { text: "True", correct: true },
        { text: "False", correct: false }
      ],
      explanation: "Labels apply protections like encryption and visual markings."
    },
    {
      question: "Clive Net wants to grant external partners limited access to their resources without giving full permissions. Which Azure AD feature should they use?",
      answers: [
        { text: "Azure AD B2B Collaboration", correct: true },
        { text: "Azure AD B2C", correct: false },
        { text: "Azure Information Protection", correct: false },
        { text: "Azure Policy", correct: false }
      ],
      explanation: "B2B lets external users access resources using their own credentials."
    },
    {
      question: "Which Microsoft service provides a cloud-native SIEM and SOAR solution?",
      answers: [
        { text: "Microsoft Sentinel", correct: true },
        { text: "Microsoft Defender Antivirus", correct: false },
        { text: "Azure Firewall", correct: false },
        { text: "Microsoft Endpoint Manager", correct: false }
      ],
      explanation: "Sentinel is Microsoft's cloud-native SIEM/SOAR."
    },
    {
      question: "Azure AD Premium P2 includes access to Privileged Identity Management (PIM).",
      answers: [
        { text: "True", correct: true },
        { text: "False", correct: false }
      ],
      explanation: "PIM is a feature of Azure AD Premium P2 that manages just-in-time admin access."
    },
    {
      question: "Clive Industries needs to ensure all devices accessing their data comply with company policies. Which tool should enforce this?",
      answers: [
        { text: "Microsoft Defender for Identity", correct: false },
        { text: "Microsoft Intune", correct: true },
        { text: "Azure AD Connect", correct: false },
        { text: "Microsoft Purview", correct: false }
      ],
      explanation: "Intune manages device compliance and enforces policies."
    },

    // (Add remaining ~180 questions here following same format...)
  ];

  // Load accumulated score and total from localStorage or init
  let accumulatedCorrect = parseInt(localStorage.getItem('accCorrect')) || 0;
  let accumulatedTotal = parseInt(localStorage.getItem('accTotal')) || 0;

  // State variables
  let quizQuestions = [];
  let currentIndex = 0;
  let currentScore = 0;
  let totalQuestions = 0;
  let answered = false;

  // DOM elements
  const startSection = document.getElementById('start-section');
  const quizSection = document.getElementById('quiz-section');
  const numQuestionsSelect = document.getElementById('numQuestions');
  const startBtn = document.getElementById('startBtn');
  const questionCount = document.getElementById('questionCount');
  const questionText = document.getElementById('questionText');
  const answersList = document.getElementById('answersList');
  const nextBtn = document.getElementById('nextBtn');
  const explanationDiv = document.getElementById('explanation');
  const scoreboard = document.getElementById('scoreboard');
  const accScoreSpan = document.getElementById('accScore');
  const accTotalSpan = document.getElementById('accTotal');
  const accPercentSpan = document.getElementById('accPercent');

  function updateAccumulatedScore() {
    accScoreSpan.textContent = accumulatedCorrect;
    accTotalSpan.textContent = accumulatedTotal;
    accPercentSpan.textContent = accumulatedTotal ? ((accumulatedCorrect / accumulatedTotal) * 100).toFixed(1) : '0';
  }
  updateAccumulatedScore();

  function shuffleArray(arr) {
    // Fisher-Yates shuffle
    for (let i = arr.length -1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i+1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
  }

  function startQuiz() {
    totalQuestions = parseInt(numQuestionsSelect.value);
    // Copy and shuffle questions
    quizQuestions = [...questions];
    shuffleArray(quizQuestions);

    // Trim to requested number
    if (totalQuestions > quizQuestions.length) totalQuestions = quizQuestions.length;
    quizQuestions = quizQuestions.slice(0, totalQuestions);

    currentIndex = 0;
    currentScore = 0;
    answered = false;

    startSection.style.display = 'none';
    quizSection.style.display = 'block';
    nextBtn.textContent = 'Next Question';
    nextBtn.disabled = true;
    explanationDiv.style.display = 'none';
    scoreboard.textContent = '';
    showQuestion();
  }

  function showQuestion() {
    answered = false;
    nextBtn.disabled = true;
    explanationDiv.style.display = 'none';
    scoreboard.textContent = '';
    questionCount.textContent = `Question ${currentIndex + 1} of ${totalQuestions}`;
    let q = quizQuestions[currentIndex];
    questionText.textContent = q.question;
    answersList.innerHTML = '';
    q.answers.forEach((ans, idx) => {
      let li = document.createElement('li');
      let btn = document.createElement('button');
      btn.textContent = ans.text;
      btn.type = 'button';
      btn.onclick = () => selectAnswer(idx);
      li.appendChild(btn);
      answersList.appendChild(li);
    });
  }

  function selectAnswer(idx) {
    if (answered) return;
    answered = true;
    const q = quizQuestions[currentIndex];
    const buttons = answersList.querySelectorAll('button');
    buttons.forEach((btn, i) => {
      btn.disabled = true;
      if (i === idx) {
        btn.classList.add('selected');
        if (q.answers[i].correct) {
          currentScore++;
          scoreboard.textContent = "Correct! 🎉";
          scoreboard.style.color = 'green';
        } else {
          scoreboard.textContent = "Incorrect. ❌";
          scoreboard.style.color = 'red';
        }
      }
      else {
        btn.classList.remove('selected');
      }
    });
    explanationDiv.textContent = q.explanation;
    explanationDiv.style.display = 'block';
    nextBtn.disabled = false;
  }

  function nextQuestion() {
    currentIndex++;
    if (currentIndex >= totalQuestions) {
      finishQuiz();
    } else {
      showQuestion();
      nextBtn.disabled = true;
      explanationDiv.style.display = 'none';
      scoreboard.textContent = '';
    }
  }

  function finishQuiz() {
    alert(`Quiz complete! You scored ${currentScore} out of ${totalQuestions} (${((currentScore/totalQuestions)*100).toFixed(1)}%)`);

    // Update accumulated scores
    accumulatedCorrect += currentScore;
    accumulatedTotal += totalQuestions;
    localStorage.setItem('accCorrect', accumulatedCorrect);
    localStorage.setItem('accTotal', accumulatedTotal);
    updateAccumulatedScore();

    // Reset UI
    quizSection.style.display = 'none';
    startSection.style.display = 'block';
  }

  startBtn.addEventListener('click', startQuiz);
  nextBtn.addEventListener('click', nextQuestion);

})();
</script>

</body>
</html>
